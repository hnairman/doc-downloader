# 更新日志

本文档记录了文档提取器所有版本的功能更新和问题修复。

## [v2.6.0] - 2025-10-13

### ✨ 新增功能
- **智能标题检测系统**
  - 从页面标题、HTML元素、URL等多个来源自动提取文档标题
  - 智能清理标题内容，移除网站标识符和无关信息
  - 使用文档标题作为PDF文件名，提升文件管理体验

- **文件名优化功能**
  - 支持中文标题和特殊字符处理
  - 自动处理Windows文件名非法字符
  - 长标题智能截取（最多30字符）
  - 无标题时自动使用备选命名方案

- **用户体验增强**
  - 智能退出提示系统，确保用户能查看执行结果
  - 详细的进度显示和状态信息
  - 完善的错误提示和解决建议
  - 消除批处理脚本重复提示问题

### 🔧 改进优化
- **日志系统升级**
  - 新增SUCCESS级别的成功日志
  - 优化日志输出格式，更清晰的步骤显示
  - 强制输出缓冲区刷新，确保日志及时显示

- **错误处理增强**
  - 多层次异常处理机制
  - 更智能的权限问题处理
  - 改进的重试和恢复策略

- **配置管理优化**
  - 支持标题相关的配置选项
  - 更灵活的文件名生成配置
  - 向后兼容的配置升级

### 🐛 问题修复
- 修复批处理文件运行时出现两次"按任意键退出"的问题
- 修复控制台输出可能不显示的问题
- 修复长文件名可能导致的保存失败问题
- 优化内存使用，减少大文档处理时的内存占用

### 📝 文档更新
- 更新README.md，添加v2.6.0功能说明
- 新增FEATURES.md详细功能特性文档
- 新增ARCHITECTURE.md技术架构文档
- 完善版本历史记录

---

## [v2.5.0] - 2025-10-12

### 🔧 改进优化
- **批处理脚本优化**
  - 修复批处理文件重复退出提示问题
  - 改进控制台编码设置
  - 优化脚本执行流程

- **用户界面改善**
  - 增强控制台输出格式
  - 改进错误信息显示
  - 优化启动脚本的用户体验

### 🐛 问题修复
- 修复Windows环境下批处理脚本闪退问题
- 修复编码相关的控制台显示问题
- 修复脚本执行路径问题

### 📝 文档更新
- 更新使用指南和启动说明
- 完善故障排除文档

---

## [v2.4.0] - 2025-10-11

### ✨ 新增功能
- **统一配置管理系统**
  - 集中化的配置文件管理
  - 支持JSON格式的配置文件
  - 灵活的配置项覆盖机制

- **完善的日志系统**
  - 分级日志输出（DEBUG/INFO/WARNING/ERROR）
  - 文件日志和控制台日志双输出
  - 结构化的日志格式

- **命令行参数支持**
  - 支持直接指定URL参数
  - 无头模式运行选项
  - 调试模式和日志级别控制

### 🔧 改进优化
- **浏览器管理增强**
  - 改进浏览器启动和资源管理
  - 更好的错误处理和重试机制
  - 支持更多浏览器配置选项

- **内容提取优化**
  - 改进Canvas内容检测算法
  - 更准确的内容验证机制
  - 优化大文档的处理性能

### 🐛 问题修复
- 修复浏览器资源泄露问题
- 修复特定网站兼容性问题
- 修复PDF生成权限问题

---

## [v2.3.0] - 2025-10-10

### ✨ 新增功能
- **智能空白页面过滤**
  - 基于像素分析的空白Canvas检测
  - 自动跳过纯黑色和纯白色页面
  - 提高提取效率和PDF质量

- **动态页面检测**
  - 自动识别文档总页数
  - 支持AJAX动态加载内容
  - 智能等待内容稳定

- **滑块验证处理**
  - 自动检测滑块验证元素
  - 用户友好的验证提示
  - 足够的等待时间设置

### 🔧 改进优化
- **登录状态管理**
  - 更智能的登录检测
  - 延长登录等待时间
  - 改进用户引导

- **PDF生成增强**
  - 更高的PDF分辨率设置
  - 改进图片质量优化
  - 更好的文件压缩算法

### 🐛 问题修复
- 修复特定Canvas提取失败问题
- 修复登录检测不准确的问题
- 修复PDF生成质量不稳定的问题

---

## [v2.2.0] - 2025-10-09

### ✨ 新增功能
- **多位置PDF保存**
  - 智能权限检测和目录选择
  - 支持桌面、文档目录、临时目录备选
  - 自动处理权限不足的情况

- **错误恢复机制**
  - 浏览器启动失败自动重试
  - 网络请求超时处理
  - 资源清理和恢复机制

### 🔧 改进优化
- **性能优化**
  - 减少内存占用
  - 优化Canvas处理速度
  - 改进大文件处理性能

- **稳定性增强**
  - 更全面的异常处理
  - 改进资源管理
  - 更好的错误信息提示

### 🐛 问题修复
- 修复内存泄露问题
- 修复浏览器崩溃处理
- 修复文件保存权限问题

---

## [v2.1.0] - 2025-10-08

### ✨ 新增功能
- **基础Canvas提取功能**
  - 支持doc88.com网站
  - Canvas内容检测和提取
  - 基础PDF生成功能

- **登录验证支持**
  - 自动检测登录状态
  - 支持手动登录流程
  - 基础的验证处理

### 🔧 改进优化
- **基础功能实现**
  - Playwright浏览器自动化
  - 基础的页面导航
  - 简单的错误处理

### 🐛 问题修复
- 修复基础功能稳定性问题
- 修复常见运行时错误

---

## [v2.0.0] - 2025-10-07

### ✨ 重大更新
- **项目重构**
  - 完全重写的代码架构
  - 模块化设计
  - 更好的代码组织

- **基础架构建立**
  - 建立项目结构
  - 配置系统基础
  - 日志系统框架

### 🐛 初始版本问题
- 基础功能稳定性问题
- 兼容性问题
- 性能优化需求

---

## 版本说明

### 版本号规则
- **主版本号**: 重大功能更新或架构变更
- **次版本号**: 新功能添加或重要改进
- **修订版本号**: 问题修复和小幅改进

### 更新类型标识
- ✨ **新增功能** (Added)
- 🔧 **改进优化** (Changed)
- 🐛 **问题修复** (Fixed)
- 📝 **文档更新** (Documentation)
- 🗑️ **删除功能** (Removed)
- ⚠️ **重要提醒** (Security)

---

**文档维护**: 文档提取器开发团队
**最后更新**: 2025-10-13
**项目主页**: [文档提取器项目](https://github.com/your-repo/document-extractor)